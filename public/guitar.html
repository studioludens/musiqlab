<!doctype html>
<html lang="en" ng-app>
<head>
  <meta charset="utf-8">
  <title>Easy Guitar Chords</title>
  <script src="script/lib/angular/angular.js" type="text/javascript"></script>
  <script src="http://underscorejs.org/underscore.js" type="text/javascript"></script>
  
  <script src="script/lib/musiq/MUSIQ.js"></script>
  <script src="script/lib/musiq/Note.js"></script>
  <script src="script/lib/musiq/Interval.js"></script>
  <script src="script/lib/musiq/Chord.js"></script>
  <script src="script/lib/musiq/Scale.js"></script>
  
  <!-- guitar stuff -->
  <script src="script/lib/musiq/guitar/Guitar.js"></script>
  <script src="script/lib/musiq/guitar/GuitarFret.js"></script>
  <script src="script/lib/musiq/guitar/GuitarNote.js"></script>
  <script src="script/lib/musiq/guitar/GuitarString.js"></script>
  
  <!-- angular.js controller -->
  <script src="script/app/controllers.js"></script>
  
  
  <!-- style sheets -->
  
  <!-- Bootstrap -->
  <link rel="stylesheet" media="screen" href="style/bootstrap.min.css">
  
  <link rel="stylesheet/less" type="text/css" href="style/main.less" />
  <link rel="stylesheet/less" type="text/css" href="style/guitar.less" />
  
  
    
  <!-- load less -->
  <script type="text/javascript">
    var less = {
        env: "development", // or "production"
        async: false,       // load imports async
        fileAsync: false,   // load imports async when in a page under 
                            // a file protocol
        dumpLineNumbers: "comments" // or "mediaQuery" or "all"
    };
  </script>
  <script src="script/lib/less/less-1.3.3.min.js" type="text/javascript"></script>
    
</head>
<body>
    <div id="guitar" ng-controller="GuitarCtrl">
            
        <div id="header">
        
            <div class="row-fluid">
                <!-- TITLE -->
                <div id="title" class="span3"/>
                    <h1></h1>
                </div>
                
                <!-- SEARCH BOX -->
                <div id="search" class="span6">
                
                    <div class="search-info"><p><em>click on notes on the fretboard to build your own chords</em>, read more <a href="#about" ng-click="showAbout">about</a> this project, or</p></div>
                    
                    <form id="search_form">
                        <div class="input-prepend input-append search-view control-group" ng-class="queryGroupClasses">
                            <label id="search-label" 
                                    for="search" 
                                    class="add-on"
                                    ><i class="icon-search"></i> search for</label>
                            <input type="text" 
                                    name="search" 
                                    id="search-field" 
                                    class="input-medium span6" 
                                    ng-model="query" 
                                    placeholder="any note, chord or scale, i.e. D# or Cmaj7"
                                    ng-change="search(query)"
                                    ng-model="query"
                                    
                                    ></input>
                            <div class="add-on"><i class="icon-music"></i></div>
                            <button type="button" 
                                    name="clear" 
                                    id="clear" 
                                    class="btn btn-danger" 
                                    ng-click="clearQuery()"
                                    data-toggle="dropdown" 
                                    data-placement="bottom"
                                    rel="tooltip" 
                                    title="Clear your search and the fretboard">
                                    <i class="icon-remove icon-white"></i>
                                    </button>
                            <button type="button" 
                                    name="help" 
                                    id="help" 
                                    class="btn btn-info" 
                                    data-title="To show chords"
                                    data-content="Type in a name of a note, chord or scale and the fretboard will show all relevant notes. To show more than one note, chord or scale, separate them with ','. I.e. C,D will show all C and D chords on the neck."
                                    data-placement="bottom">
                                    <i class="icon-question-sign icon-white"></i>
                                        <span class="caret"></span>
                                    </button>
                            
                        </div>
                        
                        
                    </form>
                    
                </div>
                
                <!-- MATCHES VIEW -->
                <div id="match" class="span3 centered">
                    <div class="match-header">matches</div>
                    
                    <div class="muted" ng-show="!queryMatches || queryMatches.length &lt; 1">no matches found
                        <br/><span class="small"><em>click on notes on the fretboard to form chords</em></span>
                    </div>
                    
                    <div class="btn-group">
                        <a class="chord-match btn btn-large dropdown-toggle" 
                            data-toggle="dropdown" 
                            ng-repeat="match in queryMatches"
                            >
                        {{match.notation()}}
                            <span class="caret"></span>
                        </a>
                    </div>
                    
                </div>
            </div>
            
            <!-- ACTION BUTTONS -->
            <div id="actions" class="row-fluid">
                <div class="actions-view span4 offset3">
                    <!-- TRANSPOSE -->
                    
                    <div class="btn-group">
                        <a id="transpose-button" 
                            href="#" 
                            class="btn dropdown-toggle" 
                            data-toggle="dropdown" 
                            data-placement="top"
                            rel="tooltip" 
                            title="You can also transpose by clicking and dragging the notes on the fretboard">
                            <i class="icon-resize-vertical"></i>Transpose
                            <span class="caret"></span>
                        </a>
                        
                        <a href="#" class="btn" ng-click="transpose(-1)"><i class="icon-arrow-left"></i></a>
                        <a href="#" class="btn" ng-click="transpose(1)"><i class="icon-arrow-right"></i></a>
                        
                        <!-- menus for transpose -->
                        <ul id="transpose-dropdown" class="dropdown-menu">
                            <li ng-repeat="trans in [-7, -6, -5, -4, -3, -2, -1]">
                                <a href="#" ng-click="transpose(trans)"><b>{{trans}}</b> semitones - <b>{{intervalName(-trans)}}</b> down</a>
                            </li>
                            <li class="divider"></li>
                            <li ng-repeat="trans in [1,2,3,4,5,6,7,8,9,10,11,12]">
                                <a href="#" ng-click="transpose(trans)"><b>{{trans}}</b> semitones - <b>{{intervalName(trans)}}</b> up</a>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- VARIATIONS -->
                    <div class="btn-group">
                        <a href="#" class="btn dropdown-toggle" data-toggle="dropdown">
                            Variations
                            <span class="caret"></span>
                        </a>
                        
                        <!-- menus for variations -->
                        <ul id="variations-dropdown" class="dropdown-menu">
                            <li ng-repeat="vari in ['1st','2nd','3rd','4th','5th','6th']">
                                <a href="#"><b>{{vari}}</b> variation</a>
                            </li>
                        </ul>
                    </div>
                        
                    <!-- edit and save functionality -->
                    
                    <div class="btn-group">
                        <a href="#" class="btn" title="Save this chord"><i class="icon-plus"></i></a>
                    </div>
                    
                </div>
                
            </div>
            
        </div>
        <!-- end header -->
        
        <div id="main">
            
            <div class="guitar-view">
                <div class="tuning-view button-group dropup">
                    <div class="current-tuning btn dropdown-toggle" data-toggle="dropdown">{{currentTuning.name}} Tuning
                        <span class="caret"></span>
                    </div>
                    <ul id="tuning-dropdown" class="dropdown-menu">
                        <li ng-repeat="tuning in tunings">
                            <a href="#" ng-click="changeTuning(tuning.id)">{{tuning.name}} Tuning ({{tuning.notesDisplay}})</a>
                        </li>
                    </ul>
                </div>
                <div class="guitar-neck">
                    <div class="guitar-fret" ng-class="fret.class()" ng-repeat="fret in frets">
                        <div class="guitar-fret-note" ng-repeat="note in fret.notes().reverse()">
                            <a  ng-class="note.class()" 
                                href="#" 
                                
                                ng-click="toggleNote(note)" 

                                
                                title="{{note.notation()}}"
                                >{{note.simple()}}</a>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
        
        <div id="footer">
            <p>&copy; 2013
                <a href="http://www.studioludens.com/">studio:ludens</a>| Using the
                <a href="http://www.github.com/studioludens/musiq/">MUSIQ.js library</a>
            </p>
        </div>
    </div>
    
    <!-- async scripts -->
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="script/lib/bootstrap/bootstrap.min.js"></script>
    <script src="script/app/interface.js"></script>
    
</body>
</html>
